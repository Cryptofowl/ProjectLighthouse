@page "/"
@using LBPUnion.ProjectLighthouse.Localization.StringLists
@using LBPUnion.ProjectLighthouse.Types
@using LBPUnion.ProjectLighthouse.Types.Settings
@model LBPUnion.ProjectLighthouse.Pages.LandingPage

@{
    Layout = "Layouts/BaseLayout";
    Model.ShowTitleInPage = false;
}
<h1>@Model.Translate(LandingPageStrings.Welcome)</h1>

@if (Model.User != null)
{
    <p>@string.Format(Model.Translate(LandingPageStrings.LoggedInAs), $"{Model.User.Username}")</p> // TODO: make this bold
    if (ServerSettings.Instance.UseExternalAuth && Model.AuthenticationAttemptsCount > 0)
    {
        <p>
            <b>You have @Model.AuthenticationAttemptsCount authentication attempts pending. Click <a href="/authentication">here</a> to view them.</b>
        </p>
    }
}

@if (Model.PlayersOnlineCount == 1)
{
    <p>@Model.Translate(LandingPageStrings.UsersSingle)</p>
    @foreach (User user in Model.PlayersOnline)
    {
        <a href="/user/@user.UserId" title="@user.Status.ToString()">@user.Username</a>
    }
}

else if (Model.PlayersOnlineCount == 0)
{
    <p>@Model.Translate(LandingPageStrings.UsersNone)</p>
}
else
{
    <p>There are currently @Model.PlayersOnlineCount users online:</p>
    @foreach (User user in Model.PlayersOnline)
    {
        <a href="/user/@user.UserId" title="@user.Status.ToString()">@user.Username</a>
    }
}